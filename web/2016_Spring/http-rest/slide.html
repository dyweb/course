<html>
<head>
  <title>2016 Spring Web | HTTP &amp; RESTful API by ComMouse</title>
  <meta charset="UTF-8">
  <meta name="description" content="Dongyue Web Studio 2016 Spring Web Instant PHP by ComMouse">
  <meta name="author" content="arrowrowe">

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <meta name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/css/reveal.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/css/theme/black.min.css" id="theme">

  <!-- Code syntax highlighting -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/lib/css/zenburn.min.css">

  <!-- Printing and PDF exports -->
  <!-- FIXME: this does not work properly -->
  <script>
    var pdfCss = 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/css/print/pdf.min.css';
    var paperCss = 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/css/print/paper.min.css';
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match(/print-pdf/gi) ? pdfCss : paperCss;
    document.getElementsByTagName('head')[0].appendChild(link);
  </script>

  <!--[if lt IE 9]>
    <script>alert('Please use Chrome');</script>
  <![endif]-->

  <style>
    blockquote {
      text-align: left;
    }
    blockquote > footer {
      text-align: right;
    }
    blockquote > footer::before {
      content: '-- ';
    }
    img.no-border {
      border: none !important;
      background: none !important;
    }
    table, table tr, table th {
      color: #fff;
    }
    .reveal code,
    .reveal pre {
      font-family: 'Source Code Pro', Consolas, 'Curior New', 'Arial', monospace;
    }
    .reveal .form-control {
      font-size: 25px;
      height: 1.8em;
    }
  </style>

</head>
<body>
  <div class="reveal">
    <div class="slides">
      <section data-background="images/bg_kagari.png" style="background-color:rgba(0,0,0,0.4)">
        <h2>HTTP &amp; RESTful API</h2>
        <h4>2016 Spring Dongyue Web Studio</h4>
        <p>
          <small>by <a href="https://github.com/ComMouse" target="_blank">ComMouse</a></small>
        </p>
        <p><small>(background image from Rewrite)</small></p>
      </section>
      <section>
        <h3>Contents</h3>
        <ul>
          <li><a href="#/quick">Quick View</a></li>
          <li><a href="#/work">Request/Response</a></li>
          <li><a href="#/http">HTTP Structure</a></li>
          <li><a href="#/rest">RESTful API</a></li>
          <li><a href="#/design">RESTful API Design</a></li>
          <li><a href="#/assignment">Assignment</a></li>
        </ul>
      </section>
      <section id="quick">
        <section>
          <h2>Quick View</h2>
        </section>
        <section data-markdown>
          <script type="text/template">
          ## Question

          - What happens when you type google.com into your browser's address box and press enter?

          https://github.com/alex/what-happens-when
          </script>
        </section>
      </section>
      <section id="work">
        <section>
          <h2>Request/Response</h2>
          <p>How can we get access to pages?</p>
          <img src="images/part1/http1-request-response.png">
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Request/Response

            1. Type an address and enter
            2. The browser sends a request to a server
            3. The server gives back a response
            4. The browser parse the response and render the page
          </script>
        </section>
        <section>
          <h2>How does it work?</h2>
          <br>
          <h1 class="fragment">HTTP</h1>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Where is HTTP?

            - Application Layer

            ![OSI model](images/part1/osi-model.jpg)

            - Uses 80 port by default
            - Stateless protocol
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Where is the server?

            - Server IP address
            - Returned from DNS server

            ![DNS](images/part1/how-dns-works.jpg)

            - *System `hosts` file*
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Where is the server? (Cont.)

            ![DNS](images/part1/dns-detail.png)

            - *DNS Pollution*
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## How to observe HTTP?

            - [Chrome DevTools](https://developer.chrome.com/devtools)
            - [Fiddler](http://www.telerik.com/fiddler)
            - [Wireshark](https://www.wireshark.org/)
          </script>
        </section>
      </section>
      <section id="http">
        <section data-markdown>
          <script type="text/template">
            ## HTTP Structure

            - HTTP Version
            - URI
            - Verb
            - Status Code
            - Message Format
            - Identification
            - Authentication
            - *Cache
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## HTTP Version

            - HTTP/1.0
              - Legacy Version
            - HTTP/1.1
              - Persistent Connection, Host, Cache, Chunked, ...
            - [HTTP/2](https://http2.github.io/)
              - Binary, Multiplexed, Server Push, SPDY, ...
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## URI

            - URI (Uniform Resource Indentifier)
              - URL (Uniform Resource __Locator__)
                - `http://tongqu.me/act/type?page=1`
                - Locator for resources
              - URN (Uniform Resource __Name__)
                - `urn:isbn:0451450523`
              - ...
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## URL

            ```
            scheme:[//[user:password@]host[:port]][/]path[?query][#fragment]
            ```

            - scheme: http, ftp, ...
            - host: `tongqu.me`, `localhost`, `59.78.12.34`
            - port: 80, 21, ...
            - path: `index.php`, `act/1234`
            - query: `?a=1&b=2`
            - fragment: `#title-1`
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Verb

            - GET, POST
            - PUT, PATCH, DELETE
            - HEAD, OPTIONS
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Verb (Cont.)

            - POST Content Type
              - application/x-www-form-urlencoded
              - multipart/form-data
              - application/json
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Status Code

            - 1xx
              - 100 Continue
            - 2xx
              - 200 OK
              - 201 Created
              - 202 Accepted
              - 204 No Content
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Status Code (Cont.)

            - 3xx
              - 301 Moved Permanently
              - 302 Moved Temporarily (header Location)
              - 304 Not Modified
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Status Code (Cont.)

            - 4xx
              - 400 Bad Request
              - 401 Unauthorized
              - 403 Forbidden
              - 404 Not Found
              - 405 Method Not Allowed
              - 409 Conflict
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Status Code (Cont.)

            - 5xx
              - 500 Internal Server Error
              - 501 Not Implemented
              - 502 Bad Gateway
              - 503 Service Unavailable
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Message Format

          </script>
        </section>
      </section>
      <section id="rest">
        <section>
          <h2>RESTful API</h2>
        </section>
      </section>
      <section id="design">
        <section>
          <h2>RESTful API Design</h2>
        </section>
      </section>
      <section id="assignment">
        <section>
          <h2>Assignment</h2>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Assignment

            1. Learn to use Chrom DevTool & Fiddler to observe HTTP connections.
            2. Select a PHP microframework (Slim/Flight/...) and implement a simple REST service of a to-do list.
              - `GET` /api/v1/tasks *(Get all tasks)*
              - `GET` /api/v1/tasks/:id *(Get a task by id)*
              - `POST` /api/v1/tasks *(Create a new task)*
              - `PUT` /api/v1/tasks/:id *(Update a given task)*
              - `DELETE` /api/v1/tasks/:id *(Delete a task)*
            3. (Optional) Write a crawler for [Tongqu Act API](http://tongqu.me/api/act/type). Here is the [doc](https://github.com/dyweb/android-stuff/blob/master/interview/old/api.md) of this API.
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## How to hand in?

            - Email: web@dongyue.io
            - GitHub / GitLab Tq:
              1. Crete a new repository and make it public
              2. Open an issue [here](https://github.com/dyweb/course/issues) and tell us your repository link
            - QQ, Wechat is also OK!

            ## Due?
            - Deadline: May 10th
            - Answers available next week
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Reading Materials (HTTP)

            ### Tutorials
            - HTTP: The Protocol Every Web Developer Must Know
              - [Part I](http://code.tutsplus.com/tutorials/http-the-protocol-every-web-developer-must-know-part-1--net-31177)
              - [Part II](http://code.tutsplus.com/tutorials/http-the-protocol-every-web-developer-must-know-part-2--net-31155)
            - [深入理解 HTTP 协议](http://www.360doc.com/content/10/0930/17/3668821_57590979.shtml)
            - [HTTP 教程](http://www.tutorialspoint.com/http/)

            ### Tools
            - [Fiddler](http://www.telerik.com/fiddler)
            - [Chrome DevTools OverView](https://developer.chrome.com/devtools)
            - [Wireshark](https://www.wireshark.org/)

          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Reading Materials (RESTful API)

            ### Tutorials
            - [RESTful API 设计指南](http://www.ruanyifeng.com/blog/2014/05/restful_api.html)
            - [理解 RESTful 架构](http://www.ruanyifeng.com/blog/2011/09/restful.html)
            - [REST API Tutorial](http://www.restapitutorial.com/)

            ### Frameworks
            - [Slim](http://www.slimframework.com/)
            - [Flight](http://flightphp.com/)

            ### Tools
            - [Postman](http://www.getpostman.com/)
            - [Scrapy](http://scrapy.org/)

          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Q & A
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ## Thank you for your listening!
          </script>
        </section>
      </section>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/lib/js/head.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/js/reveal.js"></script>

  <script>
    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
      controls: true,
      progress: true,
      history: true,
      center: true,

      transition: 'slide', // none/fade/slide/convex/concave/zoom

      // Optional reveal.js plugins
      dependencies: [
        {
          src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/lib/js/classList.js',
          condition: function () {
            return !document.body.classList;
          }
        },
        {
          src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/plugin/markdown/marked.js',
          condition: function () {
            return !!document.querySelector('[data-markdown]');
          }
        },
        {
          src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/plugin/markdown/markdown.js',
          condition: function () {
            return !!document.querySelector('[data-markdown]');
          }
        },
        {
          src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/plugin/highlight/highlight.js',
          async: true,
          callback: function () {
            hljs.initHighlightingOnLoad();
          }
        },
        {src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/plugin/zoom-js/zoom.js', async: true},
        {src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/plugin/notes/notes.js', async: true}
      ]
    });
  </script>
</body>
</html>
